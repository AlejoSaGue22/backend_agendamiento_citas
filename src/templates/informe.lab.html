<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Informe</title>
<style>
    @page {
        size: 210mm 297mm; /*Tamaño A4 */
        /* size: 150mm 150mm; Tamaño A4 */
        margin: 10mm;
    }

    body {
        width: 100%;
    }

    *{
        font-family: 'Lucida Sans';
    }

    .contenido {
        width: 100%; 
    }

    h1 {
        text-align: center;
    }

    .report-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        border-bottom: 3px solid #f06161; /* Accent color */
        padding-bottom: 1em;
        margin-bottom: 2em;
    }

    .info {
        margin-bottom: 20px;
        font-size: 13px;
    }

    .header-content figure{
        display: inline-block;
    }

    .title-pdf{
        margin: 0 130px;
    }

    .border-none{
        border: 0px solid white !important;
    }

    .graphics-test{
        width: 100%;
        height: 420px;
        margin-bottom: 2rem;
    }

    .graphics-test img{
        margin-top: 0;
        width: 100%;
        height: 400px;
        /* object-fit: contain; */
    }

    .firma-med{
        margin-bottom: 3rem;
        margin-left: 0;
    }

    .header-title h1 {
            margin: 0;
            font-size: 1.6em;
            /* color: #005a9c;  */
            text-align: right;
            font-weight: 700;
    }

    .patient-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.8em 1.5em; /* row-gap, column-gap */
            margin-bottom: 2.5em;
            padding: 1.5em;
            background-color: #f9f9f9;
            border-radius: 6px;
    }

    .info-item {
            display: flex;
            flex-direction: column;
    }

    .info-item .label {
            font-weight: 500;
            color: #494949;
            font-size: 0.6em;
            margin-bottom: 0.2em;
    }
    

    .info-item .value {
            font-weight: 400;
            color: #222;
            font-size: 0.7em;
    }

    /* TABLE */
    .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1em;
    }

    .results-table th, .results-table td {
        padding: 0.8em 1em;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
    }

    .results-table thead th {
        background-color: #f06161; /* Accent color */
        color: #ffffff;
        font-weight: 500;
        font-size: 0.7em;
        text-transform: uppercase;
    }

    .test-group-header td {
            background-color: #f2f8fc;
            font-weight: 700;
            /* color: #004a80; */
            font-size: 0.6em;
            padding-top: 1.2em;
    }
    
    .sub-test {
        padding-left: 2em !important;
        font-size: 0.6rem;
        width: 40%;
    }

    .result-value {
        font-weight: 400;
        font-size: 0.6rem;
    }

    .result-analisis {
        font-weight: 400;
        font-size: 0.6rem;
        width: 3rem;
    }

    .metadata {
            font-size: 0.5em;
            color: #777;
            padding-top: 0.2em !important;
            padding-bottom: 1.5em !important;
    }

    /* --- Footer --- */
    .report-footer {
        text-align: center;
        margin-top: 0.2em;
        padding-top: 1.2em;
        border-top: 2px solid #e0e0e0;
        font-size: 0.85em;
        color: #666;
    }

    .report-footer p {
        margin: 0.4em 0;
    }

    .logo img {
            height: 100%;
            width: 100%;
            object-fit: cover;
            font-weight: 700;
    }

    .codigo_qr{
        margin-right: 2rem;
    }

</style>
</head>
<body>
   <div class="contenido">
        <header class="report-header">
                <div class="logo">
                    <img src="{{logo}}" alt="logo4">
                    <!-- <img src="../../assets/img/icon_valmes.png" alt="logo3"> -->
                    <!-- <span>IPS VALMÉS</span> -->
                </div>
                <div class="header-title">
                    <h1>Laboratorio Clínico</h1>
                </div>
                <div class="codigo_qr">
                    <!-- <img src="../../assets/img/codigo_qr_prueba.png" alt="codigoQR"> -->
                    <img src="{{codigoQR}}" alt="codigoQR">
                </div>
        </header> 
        <main>
            <section class="patient-info">
                <div class="info-item"><span class="label">Nombre</span> <span class="value">{{Nombre}}</span></div>
                <div class="info-item"><span class="label">Edad/Sexo</span> <span class="value">{{Edad}} / {{Sexo}}</span></div>
                <div class="info-item"><span class="label">Documento</span> <span class="value">{{Documento}}</span></div>
                <div class="info-item"><span class="label">Fecha de Nacimiento</span> <span class="value">{{FechaNacimiento}}</span></div>
                <div class="info-item"><span class="label">Empresa</span> <span class="value">{{razonSocial}}</span></div>
                <div class="info-item"><span class="label">Fecha de Ingreso</span> <span class="value">{{fechaAtencion}}</span></div>
                <div class="info-item"><span class="label">Dirección</span> <span class="value">{{Direccion}}</span></div>
                <div class="info-item"><span class="label">Fecha de Impresión</span> <span class="value">{{generationDate}}</span></div>
                <div class="info-item"><span class="label">Médico</span> <span class="value">N/A</span></div>
            </section>
        </main>
     
        <section class="results">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Análisis</th>
                            <th>Resultado</th>
                            <th>Unidades</th>
                            <th>Intervalo Biológico de Referencia</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each items}}
                                <tr class="test-group-header">
                                    <td colspan="4">{{this.nombre_examen}} <br/> {{ this.referencia}} </td>
                                </tr>
                            {{#each this.analisis}}
                                <tr>
                                    <td class="sub-test">{{this.nombreAnalisis}}</td>
                                    <td class="result-value">{{this.resultado}}</td>
                                    <td class="result-value">{{this.unidades}}</td>
                                    <td class="result-value">{{this.intervalo}}</td>
                                </tr>
                             {{/each }}
                         
                                <tr>
                                    <td colspan="4" class="metadata">Fecha/Hora Validación: {{ this.fecha }} | Tipo de muestra: </td>
                                </tr>
                            
                        {{/each }}
                       
                        <!-- NUEVO PARA PRUEBA DE PAGINACION -->
                    </tbody>
                </table>
        </section>
      
        
        <footer class="report-footer">
            <p><strong>IPS VALMES S.A.S - NIT: 901.246.209-9</strong></p>
            <p>Sede Barranquilla: Carrera 50 No. 84 – 110 Local 2C Edif. Laura - Tel. 3259622</p>
            <p>Sede Cartagena: Calle 31 # 48 -10 - Tel. 605 6367608</p>
            <p>Email: ipsvalmes@gmail.com | Cel: 312 6603352</p>
            <p>Barranquilla – Colombia</p>
        </footer>
   </div>
</body>
</html>